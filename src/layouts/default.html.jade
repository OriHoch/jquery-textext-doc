- var scripts = getBlock('scripts')
- var styles = getBlock('styles')
- var t

- scripts.add([ '/textext/vendor/jquery.js', '/textext/vendor/coffee-script.js' ])

- t = '/textext/build'
- var textextScripts = 'textext.jquery utils event_queue plugin items_manager items_plugin textext keys_plugin input_plugin tags_plugin autocomplete_plugin'
- scripts.add(textextScripts.replace(/([\w\.]+)/g, t + '/$1.js').split(/\s+/g))

- t += '/css'
- var textextCss = 'textext input_plugin tags_plugin autocomplete_plugin'
- styles.add(textextCss.replace(/([\w\.]+)/g, t + '/$1.css').split(/\s+/g))

- scripts.add(['/scripts/sample-data.js', '/scripts/doc.js'])
- styles.add(['/styles/style.css'])

doctype 5
html(lang="en")
  head

    //- Meta
    meta(charset="utf-8")
    meta(http-equiv="content-type", content="text/html; charset=utf-8")

    //-
      Use the .htaccess and remove these lines to avoid edge case issues.
      More info: h5bp.com/i/378
    meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")

    //- Our site title and description
    title= getPreparedTitle()
    meta(name="description", content=getPreparedDescription())
    meta(name="keywords", content=getPreparedKeywords())
    meta(name="author", content=site.author || '')

    //- Output DocPad produced meta elements
    != getBlock('meta').toHTML()

    //- Mobile viewport optimized: h5bp.com/viewport
    meta(name="viewport", content="width=device-width")

    //- Styles
    != styles.toHTML()

  body
    //- Markup
    //- .navbar.navbar-fixed-top
      .navbar-inner
        .container
          a.brand(href="/") Welcome
          ul.nav
            each doc in getCollection('pages').toJSON()
              - clazz = (document.url === doc.url) ? 'active' : null
              li(typeof="sioc:Page", about=doc.url, class=clazz)
                a(href=doc.url, property="dc:title")= doc.title

    .container-fluid
      .row-fluid
        nav.span3
          h3 Examples
          ul#examples
            for example in getCollection('examples').toJSON()
              li: a(data-slug=example.slug, href=example.url)= example.title

        .span9.offset3
          #content!= content
          hr
          footer
            div= site.copyright
            div(style="font-style:italic; font-size: 12px") This website was last updated at #{site.date}

    //- Scripts
    != scripts.toHTML()
